<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<ScrollPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="br.com.unit.gerenciamentoAulas.ui.pages.CursosController"
            fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
            style="-fx-background-color: transparent;">

    <content>
        <VBox spacing="20" styleClass="page-container">
            <padding>
                <Insets top="30" right="30" bottom="30" left="30"/>
            </padding>

            <!-- Header -->
            <HBox alignment="CENTER_LEFT" spacing="15">
                <Label text="ðŸŽ“ Gerenciamento de Cursos" styleClass="page-title">
                    <font>
                        <Font name="System Bold" size="26"/>
                    </font>
                </Label>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="ðŸ”„ Atualizar" onAction="#handleAtualizar" styleClass="btn-secondary"/>
                <Button text="âž• Novo Curso" onAction="#handleNovo" styleClass="btn-primary btn-large"/>
            </HBox>

            <Label fx:id="lblFlash" text="" visible="false" managed="false"
                   style="-fx-background-color: #dcfce7; -fx-text-fill: #166534; -fx-padding: 8 16; -fx-background-radius: 8; -fx-font-weight: bold;"/>

            <!-- Search Bar -->
            <HBox spacing="10" styleClass="filter-bar" alignment="CENTER_LEFT">
                <Label text="ðŸ” Buscar:" styleClass="filter-label"/>
                <TextField fx:id="txtBusca" promptText="Digite o nome ou categoria..."
                           HBox.hgrow="ALWAYS"/>
                <Button text="Filtrar" onAction="#handleBuscar" styleClass="btn-primary"/>
                <Button text="Limpar" onAction="#handleLimparBusca" styleClass="btn-secondary"/>
            </HBox>

            <!-- Cards de EstatÃ­sticas -->
            <GridPane hgap="20" vgap="20">
                <VBox styleClass="stat-card" GridPane.columnIndex="0">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>
                    <Label text="ðŸ“š Total de Cursos" styleClass="stat-title"/>
                    <Label fx:id="lblTotalCursos" text="0" styleClass="stat-value"/>
                </VBox>

                <VBox styleClass="stat-card stat-card-success" GridPane.columnIndex="1">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>
                    <Label text="âœ… Cursos Ativos" styleClass="stat-title"/>
                    <Label fx:id="lblCursosAtivos" text="0" styleClass="stat-value"/>
                </VBox>

                <VBox styleClass="stat-card stat-card-info" GridPane.columnIndex="2">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>
                    <Label text="ðŸ“Š Total de Aulas" styleClass="stat-title"/>
                    <Label fx:id="lblTotalAulas" text="0" styleClass="stat-value"/>
                </VBox>
            </GridPane>

            <!-- Tabela de Cursos -->
            <TableView fx:id="tabelaCursos" VBox.vgrow="ALWAYS" styleClass="modern-table">
                <columns>
                    <TableColumn fx:id="colId" text="ID" prefWidth="70"/>
                    <TableColumn fx:id="colNome" text="Nome" prefWidth="260"/>
                    <TableColumn fx:id="colDescricao" text="DescriÃ§Ã£o" prefWidth="320"/>
                    <TableColumn fx:id="colCargaHoraria" text="Carga HorÃ¡ria" prefWidth="130"/>
                    <TableColumn fx:id="colStatus" text="Status" prefWidth="110"/>
                    <TableColumn fx:id="colAcoes" text="AÃ§Ãµes" prefWidth="180"/>
                </columns>
            </TableView>

            <!-- Footer Info -->
            <HBox alignment="CENTER_LEFT" spacing="15" styleClass="footer-info">
                <Label fx:id="lblInfo" text="Total: 0 curso(s) cadastrado(s)" styleClass="info-label"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="ðŸ“¤ Exportar" onAction="#handleExportar" styleClass="btn-secondary"/>
            </HBox>
        </VBox>
    </content>
</ScrollPane>
